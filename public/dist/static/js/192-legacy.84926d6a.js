"use strict";(self["webpackChunkknowledge_city_bigscreen"]=self["webpackChunkknowledge_city_bigscreen"]||[]).push([[192],{9240:function(t,e,s){s.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"toAD"},t._l(t.newCount,(function(e,a){return s("div",{key:a,staticClass:"qwNumBox"},[s("div",{staticClass:"trasBox",class:["rolling_"+e]},[s("div",{staticClass:"qwnum"},[t._v("0")]),s("div",{staticClass:"qwnum"},[t._v("1")]),s("div",{staticClass:"qwnum"},[t._v("2")]),s("div",{staticClass:"qwnum"},[t._v("3")]),s("div",{staticClass:"qwnum"},[t._v("4")]),s("div",{staticClass:"qwnum"},[t._v("5")]),s("div",{staticClass:"qwnum"},[t._v("6")]),s("div",{staticClass:"qwnum"},[t._v("7")]),s("div",{staticClass:"qwnum"},[t._v("8")]),s("div",{staticClass:"qwnum"},[t._v("9")]),s("div",{staticClass:"qwnum"},[t._v(".")])])])})),0)])},i=[],n=(s(1249),s(4916),s(3123),s(1539),s(9714),{name:"countUtil",props:{count:{type:String,default:""}},data:function(){return{newCount:[]}},watch:{count:function(t,e){t||(t="0");var s=t.toString().split("").map((function(t){return"."===t&&(t="dot"),t}));this.newCount=s}},mounted:function(){},methods:{}}),o=n,l=s(1001),r=(0,l.Z)(o,a,i,!1,null,"65b1487e",null),c=r.exports},192:function(t,e,s){s.r(e),s.d(e,{default:function(){return L}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"maincont"},[s("div",{staticClass:"titleImg"}),s("div",{staticClass:"main-wrap"},[s("div",{staticClass:"main-title"},[s("div",{staticClass:"logo",on:{click:t.handleBackHome}})]),s("div",{staticClass:"details-content-wrap"},[s("detailsLeft",{attrs:{dataOb:t.dataOb},on:{handleRefreshPage:t.handleRefreshPage}}),s("div",{staticClass:"detailsRight"},[s("detailsTop",{attrs:{dataOb:t.dataOb}}),s("detailsRight",{attrs:{isShowMenu:!0,dataOb:t.dataOb},on:{handleRefreshPage:t.handleRefreshPage}})],1)],1)])])},i=[],n=(s(1539),s(4747),s(8862),s(4167)),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left-all"},[a("div",{staticClass:"right-menu-wrap boxAnimation"},[a("div",{staticClass:"projList"},[t._v("项目列表")]),a("div",{ref:"rightMenu",staticClass:"right-menu"},[a("div",{staticStyle:{padding:"15px 10px","overflow-y":"auto",height:"415px",width:"100%"}},t._l(t.projList,(function(e){return a("div",{staticClass:"menu-item",on:{click:function(s){return t.handlerGetProjectContent(e.proj_id)}}},[a("img",{staticClass:"icons",attrs:{src:s(2117)}}),t._v(t._s(e.proj_name))])})),0)])]),a("div",{ref:"leftView",staticClass:"details-left-wrap"},[a("div",{staticClass:"proj-cont"},[a("div",{staticClass:"cont-title"},[t._v("建设规模及内容")]),a("div",{staticClass:"text-cont",staticStyle:{"overflow-y":"auto"}},[t._v(t._s(t.content))])])])])},l=[],r=s(9240),c={name:"detailsLeft",props:{dataOb:{type:Object,default:function(){return{}}}},components:{countUtil:r.Z},data:function(){return{enter_area:"",estimate_total:"",content:"",projList:[],industryTypeName:{1:"自建项目",2:"代建项目",3:"合资公司项目",4:"股权投资在建项目"}}},mounted:function(){this.initData(),this.content=this.dataOb.jsmb,this.setProjContentBoxHeight(this.dataOb.jsmb,!1);var t=this.$refs.projCont.offsetHeight;this.$refs.projCont.style.height="".concat(t,"px")},watch:{dataOb:{handler:function(t,e){this.content=this.dataOb.jsmb,this.setProjContentBoxHeight(t.jsmb,!0)},deep:!0}},methods:{handlerGetProjectContent:function(t){this.$emit("handleRefreshPage",t)},setProjContentBoxHeight:function(t,e){this.$refs.projCont.innerHTML="";var s=0;s=e?this.$refs.leftView.offsetHeight-100:this.$refs.leftView.offsetHeight-170;var a=this.$refs.leftTop.offsetHeight;this.$refs.projCont.style.height="".concat(s-a,"px"),this.$refs.projCont.innerHTML=t||"暂无数据"},initData:function(){var t=this;(0,n.sv)().then((function(e){var s;200==e.code?t.projList=null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.mapProjName:t.$message({showClose:!0,message:null!==e&&void 0!==e&&e.message?null===e||void 0===e?void 0:e.message:"网络出错，请稍后再试！",type:"error"})})).catch((function(t){console.log(t)}))}}},d=c,h=s(1001),u=(0,h.Z)(d,o,l,!1,null,"ae6bc28c",null),f=u.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"leftView",staticClass:"details-left-wrap"},[s("div",{ref:"leftTop",staticClass:"leftTop"},[s("div",{staticClass:"top-text projItem"},[s("div",{staticClass:"itemdetail"},[s("div",{staticClass:"leader2"},[t._v(t._s(t.dataOb.lead_user))]),s("div",{staticClass:"leader"},[t._v("集团分管领导")])])]),s("div",{staticClass:"top-text projItem2"},[s("div",{staticClass:"itemdetail"},[s("div",{staticClass:"leader2"},[t._v(t._s(t.dataOb.muser_name))]),s("div",{staticClass:"leader"},[t._v("二级项目负责人")])])]),s("div",{staticClass:"top-text projItem3"},[s("div",{staticClass:"itemdetail"},[s("div",{staticClass:"leader2"},[t._v(t._s(t.industryTypeName[t.dataOb.proj_type]))]),s("div",{staticClass:"leader"},[t._v("项目类型")])])]),s("div",{staticClass:"number-item"},[t._m(0),s("div",{staticClass:"static-num"},[s("countUtil",{attrs:{count:t.estimate_total}})],1)]),s("div",{staticClass:"number-item"},[t._m(1),s("div",{staticClass:"static-num"},[s("countUtil",{attrs:{count:t.jz_area}})],1)])])])},m=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-between"},[s("div",{staticClass:"leader2",staticStyle:{height:"40px"}},[t._v("估算总投资:")]),s("div",{staticClass:"unit"},[t._v("单位：万元")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-between"},[s("div",{staticClass:"leader2",staticStyle:{height:"40px"}},[t._v("总建筑面积:")]),s("div",{staticClass:"unit"},[t._v("单位：m²")])])}],p=(s(9714),{name:"detailsTop",props:{dataOb:{type:Object,default:function(){return{}}}},components:{countUtil:r.Z},data:function(){return{jz_area:"",estimate_total:"",content:"",industryTypeName:{1:"自建项目",2:"代建项目",3:"合资公司项目",4:"股权投资在建项目"}}},mounted:function(){var t,e;this.setProjContentBoxHeight(this.dataOb.jsmb,!1);var s=this.$refs.projCont.offsetHeight;this.$refs.projCont.style.height="".concat(s,"px"),this.jz_area=this.dataOb.jz_area?null===(t=this.dataOb.jz_area)||void 0===t?void 0:t.toString():"0",this.estimate_total=this.dataOb.total_money?null===(e=this.dataOb.total_money)||void 0===e?void 0:e.toString():"0",this.content=this.dataOb.jsmb,console.log("-----"+JSON.stringify(this.dataOb))},watch:{dataOb:{handler:function(t,e){var s,a;this.jz_area=t.jz_area?null===(s=t.jz_area)||void 0===s?void 0:s.toString():"0",this.estimate_total=t.total_money?null===(a=t.total_money)||void 0===a?void 0:a.toString():"0",this.setProjContentBoxHeight(t.jsmb,!0),this.content=t.jsmb},deep:!0}},methods:{setProjContentBoxHeight:function(t,e){this.$refs.projCont.innerHTML="";var s=0;s=e?this.$refs.leftView.offsetHeight-100:this.$refs.leftView.offsetHeight-170;var a=this.$refs.leftTop.offsetHeight;this.$refs.projCont.style.height="".concat(s-a,"px"),this.$refs.projCont.innerHTML=t||"暂无数据"}}}),g=p,C=(0,h.Z)(g,v,m,!1,null,"28619650",null),_=C.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details-right-wrap"},[s("div"),s("imgLoop",{attrs:{dataOb:t.dataOb},on:{handleRefreshPage:t.handleRefreshPage}}),s("div",{staticClass:"footer-wrap"},[s("div",{staticClass:"project-progress"},[t._v("项目进展")]),s("div",{staticClass:"project-content"},[t._v(t._s(t.work_progress?t.work_progress:"暂无数据"))]),s("div",{staticClass:"back-home-btn",on:{click:t.handleToHome}},[t._v("返回首页")])])],1)},w=[],j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrapBox",staticClass:"contains"},[s("div",{staticClass:"top-text flex-between video-wrap"},[t.imgPath.length?s("el-carousel",{attrs:{trigger:"click",height:"100%"}},t._l(t.imgPath,(function(t){return s("el-carousel-item",[s("img",{attrs:{width:"100%",height:"100%",src:t}})])})),1):t._e(),s("div",{staticClass:"camera-btn",on:{click:t.handleShowDialog}},[t._v("查看视频")])],1)])},O=[],y={name:"imgLoop",props:{dataOb:{type:Object,default:function(){return{}}}},data:function(){return{projList:[],imgPath:[],dialogVisible:!1,hls:null,hls1:null,disabledShot:null,checkedPontsName:"",url:""}},mounted:function(){},watch:{},methods:{handleShowDialog:function(){this.$router.push("videoInfo")},changePlayStatus:function(t){t?this.disabledShot=!1:(this.disabledShot=!0,this.url="",this.checkedPontsName="")},handlerGetProjectContent:function(t){this.$emit("handleRefreshPage",t)}}},x=y,P=(0,h.Z)(x,j,O,!1,null,"cb3f4054",null),A=P.exports,S={name:"detailsRight",props:{dataOb:{type:Object,default:function(){return{}}},isShowMenu:{type:Boolean,default:function(){return!1}}},data:function(){return{work_progress:""}},components:{imgLoop:A},watch:{dataOb:{handler:function(t,e){this.work_progress=t.work_progress},deep:!0}},methods:{handleRefreshPage:function(t){this.$emit("handleRefreshPage",t)},handleToHome:function(){this.$router.push("/")}}},$=S,k=(0,h.Z)($,b,w,!1,null,"d89284ce",null),H=k.exports,R=s(4549),T={name:"vDetails",components:{detailsLeft:f,detailsRight:H,detailsTop:_},data:function(){return{loadingInstance:null,dataOb:{},isShowMenu:!1,projid:""}},created:function(){this.loadingInstance=R.Loading.service({lock:!0,text:"努力加载中...",background:"rgba(0, 0, 0, 0.8)"})},mounted:function(){var t=this.$route.query.projId;this.projid=t,console.log("--2121-------"+t),this.getProjectDetails(t)},methods:{getProjectDetails:function(t){var e=this,s=this;(0,n.sv)(t).then((function(a){200==a.code?a.data.mapProjName.forEach((function(e,a){e.proj_id==t&&(s.dataOb=e,console.log("--------"+JSON.stringify(s.dataOb)),s.loadingInstance.close())})):(e.loadingInstance.close(),e.$message({showClose:!0,message:null!==a&&void 0!==a&&a.message?null===a||void 0===a?void 0:a.message:"网络出错，请稍后再试！",type:"error"}))})).catch((function(t){e.loadingInstance.close(),console.log(t)}))},handleShowMenu:function(){this.isShowMenu=!this.isShowMenu},handleRefreshPage:function(t){this.getProjectDetails(t)},handleBackHome:function(){this.$router.push("/")}}},M=T,B=(0,h.Z)(M,a,i,!1,null,"a38e7bca",null),L=B.exports},2117:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAA7klEQVQokZXSwSpFURTG8d9Rd6KkvICXMHKJkTDzAIpSjNxXoQwoSTJQZoqSgcQLGJgbMyJJJlfrtndtp3PkfrVq7db+f2u1WtXk+bOa5rGNOYzhEXs4QT9/HSmYURzhFiuYQAdTOMZlMvoFjuMG6/X2hZZwlRoMwApnmP4DyprBbgbXsPgPKGsD3QA3W5yrFLMN9V5s9TstoVQApfq192t0fB9izKxOgHcNhW5LnvUU4E5D4SGNFxF5XfsB3uNwiDEvcJoPoNfiXFc0WY0kg5/pMq5bgBj5AAt5meWtfmA5OYbzG16Kq9rC1+AnfgBt9Cw2JJMPbQAAAABJRU5ErkJggg=="}}]);